$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513800
src/jmemorize/gui/swing/actions/file/PreferencesAction.java 51 57
src/jmemorize/gui/swing/actions/edit/CopyAction.java 84 89
----------------------------------------
    {
        setName(Localization.get("MainFrame.PREFERENCES") + ".."); //$NON-NLS-1$ //$NON-NLS-2$ 
        setDescription(Localization.get("MainFrame.PREFERENCES_DESC")); //$NON-NLS-1$ 
        setIcon("/resource/icons/settings.gif"); //$NON-NLS-1$ 
        setAccelerator(KeyEvent.VK_P, SHORTCUT_KEY);
        setMnemonic(1);
    }

----------------------------------------
    {
        setName(Localization.get(LC.COPY));
        setIcon("/resource/icons/edit_copy.gif"); //$NON-NLS-1$
        setMnemonic(1);
        setAccelerator(KeyEvent.VK_C, SHORTCUT_KEY);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513745
src/jmemorize/gui/swing/frames/NewCardFrame.java 64 70
src/jmemorize/gui/swing/actions/edit/CopyAction.java 84 89
----------------------------------------
        {
            setName(Localization.get(LC.NEW_CARD_NEW_WINDOW));
            setDescription(Localization.get(LC.NEW_CARD_NEW_WINDOW_DESC));
            setIcon("/resource/icons/card_add.gif"); //$NON-NLS-1$
            setAccelerator(KeyEvent.VK_N, InputEvent.CTRL_MASK);
            setMnemonic(7);
        }

----------------------------------------
    {
        setName(Localization.get(LC.COPY));
        setIcon("/resource/icons/edit_copy.gif"); //$NON-NLS-1$
        setMnemonic(1);
        setAccelerator(KeyEvent.VK_C, SHORTCUT_KEY);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513832
src/jmemorize/gui/swing/actions/file/PreferencesAction.java 51 57
src/jmemorize/gui/swing/actions/edit/AddCardAction.java 54 60
----------------------------------------
    {
        setName(Localization.get("MainFrame.PREFERENCES") + ".."); //$NON-NLS-1$ //$NON-NLS-2$ 
        setDescription(Localization.get("MainFrame.PREFERENCES_DESC")); //$NON-NLS-1$ 
        setIcon("/resource/icons/settings.gif"); //$NON-NLS-1$ 
        setAccelerator(KeyEvent.VK_P, SHORTCUT_KEY);
        setMnemonic(1);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.ADD_CARD")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.ADD_CARD_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/card_add.gif"); //$NON-NLS-1$
        setMnemonic(7);
        setAccelerator(KeyEvent.VK_N, SHORTCUT_KEY);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513805
src/jmemorize/gui/swing/actions/edit/RemoveAction.java 130 135
src/jmemorize/gui/swing/actions/edit/AddCardAction.java 54 60
----------------------------------------
    {
        setName(Localization.get("MainFrame.DELETE")); //$NON-NLS-1$
        setIcon("/resource/icons/remove.gif"); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_DELETE, 0);
        setMnemonic(1);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.ADD_CARD")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.ADD_CARD_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/card_add.gif"); //$NON-NLS-1$
        setMnemonic(7);
        setAccelerator(KeyEvent.VK_N, SHORTCUT_KEY);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513827
src/jmemorize/gui/swing/actions/edit/CutAction.java 83 88
src/jmemorize/gui/swing/actions/edit/AddCardAction.java 54 60
----------------------------------------
    {
        setName(Localization.get(LC.CUT));
        setIcon("/resource/icons/edit_cut.gif"); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_X, SHORTCUT_KEY);
        setMnemonic(2);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.ADD_CARD")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.ADD_CARD_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/card_add.gif"); //$NON-NLS-1$
        setMnemonic(7);
        setAccelerator(KeyEvent.VK_N, SHORTCUT_KEY);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513829
src/jmemorize/gui/swing/actions/edit/ResetCardAction.java 90 96
src/jmemorize/gui/swing/actions/edit/AddCardAction.java 54 60
----------------------------------------
    {
        setName(Localization.get(LC.RESET));
        setDescription(Localization.get(LC.RESET_DESC));
        setIcon("/resource/icons/card_reset.gif"); //$NON-NLS-1$
        setMnemonic(1);
        setAccelerator(KeyEvent.VK_R, SHORTCUT_KEY);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.ADD_CARD")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.ADD_CARD_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/card_add.gif"); //$NON-NLS-1$
        setMnemonic(7);
        setAccelerator(KeyEvent.VK_N, SHORTCUT_KEY);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513729
src/jmemorize/gui/swing/actions/file/SaveLessonAction.java 101 107
src/jmemorize/gui/swing/actions/edit/AddCardAction.java 54 60
----------------------------------------
    {
        setName(Localization.get("MainFrame.SAVE")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.SAVE_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/file_save.gif"); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_S, SHORTCUT_KEY);
        setMnemonic(1);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.ADD_CARD")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.ADD_CARD_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/card_add.gif"); //$NON-NLS-1$
        setMnemonic(7);
        setAccelerator(KeyEvent.VK_N, SHORTCUT_KEY);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513686
src/jmemorize/gui/swing/actions/edit/EditCardAction.java 79 85
src/jmemorize/gui/swing/actions/edit/AddCardAction.java 54 60
----------------------------------------
    {
        setName(Localization.get("MainFrame.EDIT_CARD")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.EDIT_CARD_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/card_edit.gif"); //$NON-NLS-1$
        setMnemonic(1);
        setAccelerator(KeyEvent.VK_ENTER, 0);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.ADD_CARD")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.ADD_CARD_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/card_add.gif"); //$NON-NLS-1$
        setMnemonic(7);
        setAccelerator(KeyEvent.VK_N, SHORTCUT_KEY);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513830
src/jmemorize/gui/swing/actions/file/SaveLessonAsAction.java 50 56
src/jmemorize/gui/swing/actions/edit/AddCardAction.java 54 60
----------------------------------------
    {
        setName(Localization.get("MainFrame.SAVE_AS")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.SAVE_AS_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/file_saveas.gif"); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_S, SHORTCUT_KEY + InputEvent.SHIFT_MASK);
        setMnemonic(2);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.ADD_CARD")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.ADD_CARD_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/card_add.gif"); //$NON-NLS-1$
        setMnemonic(7);
        setAccelerator(KeyEvent.VK_N, SHORTCUT_KEY);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513826
src/jmemorize/gui/swing/actions/LearnAction.java 120 126
src/jmemorize/gui/swing/actions/edit/AddCardAction.java 54 60
----------------------------------------
    {
        setName(Localization.get(LC.LEARN));
        setDescription(Localization.get(LC.LEARN_DESC));
        setIcon("/resource/icons/learn.gif"); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_L, SHORTCUT_KEY);
        setMnemonic(1);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.ADD_CARD")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.ADD_CARD_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/card_add.gif"); //$NON-NLS-1$
        setMnemonic(7);
        setAccelerator(KeyEvent.VK_N, SHORTCUT_KEY);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513787
src/jmemorize/gui/swing/actions/edit/PasteAction.java 87 92
src/jmemorize/gui/swing/actions/edit/AddCardAction.java 54 60
----------------------------------------
    {
        setName(Localization.get(LC.PASTE));
        setIcon("/resource/icons/edit_paste.gif"); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_V, SHORTCUT_KEY);
        setMnemonic(1);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.ADD_CARD")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.ADD_CARD_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/card_add.gif"); //$NON-NLS-1$
        setMnemonic(7);
        setAccelerator(KeyEvent.VK_N, SHORTCUT_KEY);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513831
src/jmemorize/gui/swing/actions/ShowCategoryTreeAction.java 51 56
src/jmemorize/gui/swing/actions/edit/AddCardAction.java 54 60
----------------------------------------
    {
        setName(Localization.get("MainFrame.CATEGORY_TREE")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.CATEGORY_TREE_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/tree.gif"); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_T, 0);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.ADD_CARD")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.ADD_CARD_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/card_add.gif"); //$NON-NLS-1$
        setMnemonic(7);
        setAccelerator(KeyEvent.VK_N, SHORTCUT_KEY);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513828
src/jmemorize/gui/swing/actions/edit/CopyAction.java 84 89
src/jmemorize/gui/swing/actions/edit/AddCardAction.java 54 60
----------------------------------------
    {
        setName(Localization.get(LC.COPY));
        setIcon("/resource/icons/edit_copy.gif"); //$NON-NLS-1$
        setMnemonic(1);
        setAccelerator(KeyEvent.VK_C, SHORTCUT_KEY);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.ADD_CARD")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.ADD_CARD_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/card_add.gif"); //$NON-NLS-1$
        setMnemonic(7);
        setAccelerator(KeyEvent.VK_N, SHORTCUT_KEY);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513730
src/jmemorize/gui/swing/actions/file/SaveLessonAction.java 101 107
src/jmemorize/gui/swing/actions/edit/FindAction.java 52 57
----------------------------------------
    {
        setName(Localization.get("MainFrame.SAVE")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.SAVE_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/file_save.gif"); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_S, SHORTCUT_KEY);
        setMnemonic(1);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.FIND")); //$NON-NLS-1$
        setIcon("/resource/icons/find.gif"); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.FIND_DESC")); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_F, SHORTCUT_KEY);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513803
src/jmemorize/gui/swing/actions/ShowCategoryTreeAction.java 51 56
src/jmemorize/gui/swing/actions/edit/FindAction.java 52 57
----------------------------------------
    {
        setName(Localization.get("MainFrame.CATEGORY_TREE")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.CATEGORY_TREE_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/tree.gif"); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_T, 0);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.FIND")); //$NON-NLS-1$
        setIcon("/resource/icons/find.gif"); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.FIND_DESC")); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_F, SHORTCUT_KEY);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513687
src/jmemorize/gui/swing/actions/edit/EditCardAction.java 79 85
src/jmemorize/gui/swing/actions/edit/FindAction.java 52 57
----------------------------------------
    {
        setName(Localization.get("MainFrame.EDIT_CARD")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.EDIT_CARD_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/card_edit.gif"); //$NON-NLS-1$
        setMnemonic(1);
        setAccelerator(KeyEvent.VK_ENTER, 0);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.FIND")); //$NON-NLS-1$
        setIcon("/resource/icons/find.gif"); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.FIND_DESC")); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_F, SHORTCUT_KEY);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513804
src/jmemorize/gui/swing/actions/file/PreferencesAction.java 51 57
src/jmemorize/gui/swing/actions/edit/FindAction.java 52 57
----------------------------------------
    {
        setName(Localization.get("MainFrame.PREFERENCES") + ".."); //$NON-NLS-1$ //$NON-NLS-2$ 
        setDescription(Localization.get("MainFrame.PREFERENCES_DESC")); //$NON-NLS-1$ 
        setIcon("/resource/icons/settings.gif"); //$NON-NLS-1$ 
        setAccelerator(KeyEvent.VK_P, SHORTCUT_KEY);
        setMnemonic(1);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.FIND")); //$NON-NLS-1$
        setIcon("/resource/icons/find.gif"); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.FIND_DESC")); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_F, SHORTCUT_KEY);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513802
src/jmemorize/gui/swing/actions/file/SaveLessonAsAction.java 50 56
src/jmemorize/gui/swing/actions/edit/FindAction.java 52 57
----------------------------------------
    {
        setName(Localization.get("MainFrame.SAVE_AS")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.SAVE_AS_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/file_saveas.gif"); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_S, SHORTCUT_KEY + InputEvent.SHIFT_MASK);
        setMnemonic(2);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.FIND")); //$NON-NLS-1$
        setIcon("/resource/icons/find.gif"); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.FIND_DESC")); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_F, SHORTCUT_KEY);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513833
src/jmemorize/gui/swing/actions/edit/AddCardAction.java 54 60
src/jmemorize/gui/swing/actions/edit/FindAction.java 52 57
----------------------------------------
    {
        setName(Localization.get("MainFrame.ADD_CARD")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.ADD_CARD_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/card_add.gif"); //$NON-NLS-1$
        setMnemonic(7);
        setAccelerator(KeyEvent.VK_N, SHORTCUT_KEY);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.FIND")); //$NON-NLS-1$
        setIcon("/resource/icons/find.gif"); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.FIND_DESC")); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_F, SHORTCUT_KEY);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513696
src/jmemorize/gui/swing/panels/CardSidePanel.java 397 412
src/jmemorize/core/learn/LearnHistory.java 350 355
----------------------------------------
    {
        m_textPane.addCaretListener(listener);
        
        /*
         * Our problem is that the TextPane inserts new CaretListeners at the
         * first position. Because we add our text actions after the editor kit
         * has already been implictly set, they will get fired before the
         * AttributeTracker in StyledEditorKit (which also listens as caret
         * listener) has the chance to update the input attributes which our
         * text actions rely on. By resetting the editor kit, the editor kit
         * will be removed from the caret listeners and reinserted at the first
         * position, so that our text actions can correctly access the current
         * input attributes.
         */
        m_textPane.setEditorKit(m_textPane.getEditorKit());
    }

----------------------------------------
    {
        SessionSummary sessionSummary = new SessionSummary(
            start, end, passed, failed, skipped, relearned);
        
        m_summaries.add(sessionSummary);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513697
src/jmemorize/gui/swing/widgets/CardTable.java 1014 1019
src/jmemorize/core/learn/LearnHistory.java 567 572
----------------------------------------
    {
        if (m_statusBar != null)
        {
            m_statusBar.setCards(m_tableModel.getCards());
        }
    }

----------------------------------------
        {
            if (in != null)
            {
                in.close();
            }
        }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513890
src/jmemorize/core/learn/LearnHistory.java 567 572
src/jmemorize/core/learn/LearnHistory.java 592 597
----------------------------------------
        {
            if (in != null)
            {
                in.close();
            }
        }

----------------------------------------
        {
            if (out != null)
            {
                out.close();
            }
        }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513698
src/jmemorize/gui/swing/widgets/CardTable.java 1014 1019
src/jmemorize/core/learn/LearnHistory.java 592 597
----------------------------------------
    {
        if (m_statusBar != null)
        {
            m_statusBar.setCards(m_tableModel.getCards());
        }
    }

----------------------------------------
        {
            if (out != null)
            {
                out.close();
            }
        }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513699
src/jmemorize/gui/swing/widgets/CardTable.java 1022 1034
src/jmemorize/gui/swing/panels/LearnSettingPanels.java 136 150
----------------------------------------
    {
        for (int i = 0; i < COLUMN_NAMES.length; i++)
        {
            m_checkBoxItems[i] = new JCheckBoxMenuItem(COLUMN_NAMES[i]);
            m_checkBoxItems[i].addActionListener(new ActionListener(){
                public void actionPerformed(ActionEvent e)
                {
                    columnSelectionChanged();
                }
            });
            m_headerMenu.add(m_checkBoxItems[i]);
        }
    }

----------------------------------------
    {
        for (int level = 0; level<LearnSettings.SCHEDULE_LEVELS; level++)
        {
            m_scheduleDays[level]    = new JSpinner(new SpinnerNumberModel(1, 0, 999, 1));
            m_scheduleHours[level]   = new JSpinner(new SpinnerNumberModel(1, 0, 23 , 1));
            m_scheduleMinutes[level] = new JSpinner(new SpinnerNumberModel(1, 0, 59 , 1));
        }
        
        m_categoryComboBox.addActionListener(new ActionListener(){
            public void actionPerformed(ActionEvent e)
            {
                categoryBoxActionPerformed();
            }
        });
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513702
src/jmemorize/gui/swing/actions/file/ImportCSVAction.java 76 95
src/jmemorize/gui/swing/actions/file/ImportTSVAction.java 52 72
----------------------------------------
    {
        FileInputStream in = null;
        try
        {
            in = new FileInputStream(file);
            Charset charset = showCharsetChooser(Main.getInstance().getFrame());
            
            if (charset == null)
                return;
             
            CsvBuilder.importLesson(in, ',', charset, lesson);
        } 
        catch (BadHeaderException e)
        {
            if (in != null)
                in.close();
            
            throw new IOException(e.getMessage());
        }
    }

----------------------------------------
    {
        FileInputStream in = null;
        try
        {
            in = new FileInputStream(file);
            MainFrame frame = Main.getInstance().getFrame();
            Charset charset = ImportCSVAction.showCharsetChooser(frame);
            
            if (charset == null)
                return;
            
            CsvBuilder.importLesson(in, '\t', charset, lesson);
        } 
        catch (BadHeaderException e)
        {
            if (in != null)
                in.close();
            
            throw new IOException(e.getMessage());
        }
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513703
src/jmemorize/gui/swing/actions/file/ImportCSVAction.java 79 87
src/jmemorize/gui/swing/actions/file/ImportTSVAction.java 55 64
----------------------------------------
        {
            in = new FileInputStream(file);
            Charset charset = showCharsetChooser(Main.getInstance().getFrame());
            
            if (charset == null)
                return;
             
            CsvBuilder.importLesson(in, ',', charset, lesson);
        } 

----------------------------------------
        {
            in = new FileInputStream(file);
            MainFrame frame = Main.getInstance().getFrame();
            Charset charset = ImportCSVAction.showCharsetChooser(frame);
            
            if (charset == null)
                return;
            
            CsvBuilder.importLesson(in, '\t', charset, lesson);
        } 

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513705
src/jmemorize/core/Main.java 485 491
src/jmemorize/gui/swing/actions/file/ImportCSVAction.java 89 94
----------------------------------------
        {
            if (sourceChannel != null)
                sourceChannel.close();
            
            if (destinationChannel != null)
                destinationChannel.close();
        }

----------------------------------------
        {
            if (in != null)
                in.close();
            
            throw new IOException(e.getMessage());
        }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513704
src/jmemorize/gui/swing/actions/file/ImportTSVAction.java 66 71
src/jmemorize/gui/swing/actions/file/ImportCSVAction.java 89 94
----------------------------------------
        {
            if (in != null)
                in.close();
            
            throw new IOException(e.getMessage());
        }

----------------------------------------
        {
            if (in != null)
                in.close();
            
            throw new IOException(e.getMessage());
        }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513821
src/jmemorize/gui/swing/actions/edit/AddCardAction.java 54 60
src/jmemorize/gui/swing/actions/file/NewLessonAction.java 58 64
----------------------------------------
    {
        setName(Localization.get("MainFrame.ADD_CARD")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.ADD_CARD_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/card_add.gif"); //$NON-NLS-1$
        setMnemonic(7);
        setAccelerator(KeyEvent.VK_N, SHORTCUT_KEY);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.NEW")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.NEW_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/file_new.gif"); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_N, SHORTCUT_KEY+ InputEvent.SHIFT_MASK);
        setMnemonic(1);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513818
src/jmemorize/gui/swing/actions/file/SaveLessonAsAction.java 50 56
src/jmemorize/gui/swing/actions/file/NewLessonAction.java 58 64
----------------------------------------
    {
        setName(Localization.get("MainFrame.SAVE_AS")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.SAVE_AS_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/file_saveas.gif"); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_S, SHORTCUT_KEY + InputEvent.SHIFT_MASK);
        setMnemonic(2);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.NEW")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.NEW_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/file_new.gif"); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_N, SHORTCUT_KEY+ InputEvent.SHIFT_MASK);
        setMnemonic(1);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513728
src/jmemorize/gui/swing/actions/file/SaveLessonAction.java 101 107
src/jmemorize/gui/swing/actions/file/NewLessonAction.java 58 64
----------------------------------------
    {
        setName(Localization.get("MainFrame.SAVE")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.SAVE_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/file_save.gif"); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_S, SHORTCUT_KEY);
        setMnemonic(1);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.NEW")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.NEW_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/file_new.gif"); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_N, SHORTCUT_KEY+ InputEvent.SHIFT_MASK);
        setMnemonic(1);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513820
src/jmemorize/gui/swing/actions/file/PreferencesAction.java 51 57
src/jmemorize/gui/swing/actions/file/NewLessonAction.java 58 64
----------------------------------------
    {
        setName(Localization.get("MainFrame.PREFERENCES") + ".."); //$NON-NLS-1$ //$NON-NLS-2$ 
        setDescription(Localization.get("MainFrame.PREFERENCES_DESC")); //$NON-NLS-1$ 
        setIcon("/resource/icons/settings.gif"); //$NON-NLS-1$ 
        setAccelerator(KeyEvent.VK_P, SHORTCUT_KEY);
        setMnemonic(1);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.NEW")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.NEW_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/file_new.gif"); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_N, SHORTCUT_KEY+ InputEvent.SHIFT_MASK);
        setMnemonic(1);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513822
src/jmemorize/gui/swing/actions/edit/FindAction.java 52 57
src/jmemorize/gui/swing/actions/file/NewLessonAction.java 58 64
----------------------------------------
    {
        setName(Localization.get("MainFrame.FIND")); //$NON-NLS-1$
        setIcon("/resource/icons/find.gif"); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.FIND_DESC")); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_F, SHORTCUT_KEY);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.NEW")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.NEW_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/file_new.gif"); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_N, SHORTCUT_KEY+ InputEvent.SHIFT_MASK);
        setMnemonic(1);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513819
src/jmemorize/gui/swing/actions/ShowCategoryTreeAction.java 51 56
src/jmemorize/gui/swing/actions/file/NewLessonAction.java 58 64
----------------------------------------
    {
        setName(Localization.get("MainFrame.CATEGORY_TREE")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.CATEGORY_TREE_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/tree.gif"); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_T, 0);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.NEW")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.NEW_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/file_new.gif"); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_N, SHORTCUT_KEY+ InputEvent.SHIFT_MASK);
        setMnemonic(1);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513817
src/jmemorize/gui/swing/actions/edit/RemoveAction.java 130 135
src/jmemorize/gui/swing/actions/file/NewLessonAction.java 58 64
----------------------------------------
    {
        setName(Localization.get("MainFrame.DELETE")); //$NON-NLS-1$
        setIcon("/resource/icons/remove.gif"); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_DELETE, 0);
        setMnemonic(1);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.NEW")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.NEW_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/file_new.gif"); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_N, SHORTCUT_KEY+ InputEvent.SHIFT_MASK);
        setMnemonic(1);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513816
src/jmemorize/gui/swing/actions/edit/EditCardAction.java 79 85
src/jmemorize/gui/swing/actions/file/NewLessonAction.java 58 64
----------------------------------------
    {
        setName(Localization.get("MainFrame.EDIT_CARD")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.EDIT_CARD_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/card_edit.gif"); //$NON-NLS-1$
        setMnemonic(1);
        setAccelerator(KeyEvent.VK_ENTER, 0);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.NEW")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.NEW_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/file_new.gif"); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_N, SHORTCUT_KEY+ InputEvent.SHIFT_MASK);
        setMnemonic(1);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
28821063
src/jmemorize/util/EquivalenceClassSet.java 336 343
src/jmemorize/gui/swing/actions/file/NewLessonAction.java 48 55
----------------------------------------
            {
                iterIdx = m_loopEqvClassIter.nextIndex();
                addIdx = eqvPosition.eqvClassIter.nextIndex();
                if (addIdx < iterIdx) 
                {
                    iterIdx += 1;
                }
            } 

----------------------------------------
    {
        Main main = Main.getInstance();
        
        if (main.getFrame().confirmCloseLesson())
        {
            main.createNewLesson();
        }
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
28821060
src/jmemorize/util/EquivalenceClassSet.java 336 343
src/jmemorize/gui/swing/actions/file/ExitAction.java 49 56
----------------------------------------
            {
                iterIdx = m_loopEqvClassIter.nextIndex();
                addIdx = eqvPosition.eqvClassIter.nextIndex();
                if (addIdx < iterIdx) 
                {
                    iterIdx += 1;
                }
            } 

----------------------------------------
    {
        Main main = Main.getInstance();
    
        if (main.getFrame().confirmCloseLesson())
        {
            main.exit();
        }
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513731
src/jmemorize/gui/swing/actions/file/NewLessonAction.java 48 55
src/jmemorize/gui/swing/actions/file/ExitAction.java 49 56
----------------------------------------
    {
        Main main = Main.getInstance();
        
        if (main.getFrame().confirmCloseLesson())
        {
            main.createNewLesson();
        }
    }

----------------------------------------
    {
        Main main = Main.getInstance();
    
        if (main.getFrame().confirmCloseLesson())
        {
            main.exit();
        }
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513732
src/jmemorize/gui/swing/actions/edit/EditCardAction.java 79 85
src/jmemorize/gui/swing/actions/file/ExitAction.java 59 64
----------------------------------------
    {
        setName(Localization.get("MainFrame.EDIT_CARD")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.EDIT_CARD_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/card_edit.gif"); //$NON-NLS-1$
        setMnemonic(1);
        setAccelerator(KeyEvent.VK_ENTER, 0);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.EXIT")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.EXIT_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/blank.gif"); //$NON-NLS-1$
        setMnemonic(2);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513733
src/jmemorize/gui/swing/actions/edit/RemoveAction.java 130 135
src/jmemorize/gui/swing/actions/file/ExitAction.java 59 64
----------------------------------------
    {
        setName(Localization.get("MainFrame.DELETE")); //$NON-NLS-1$
        setIcon("/resource/icons/remove.gif"); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_DELETE, 0);
        setMnemonic(1);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.EXIT")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.EXIT_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/blank.gif"); //$NON-NLS-1$
        setMnemonic(2);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513746
src/jmemorize/gui/swing/actions/ShowCategoryTreeAction.java 51 56
src/jmemorize/gui/swing/actions/file/ExitAction.java 59 64
----------------------------------------
    {
        setName(Localization.get("MainFrame.CATEGORY_TREE")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.CATEGORY_TREE_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/tree.gif"); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_T, 0);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.EXIT")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.EXIT_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/blank.gif"); //$NON-NLS-1$
        setMnemonic(2);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513749
src/jmemorize/gui/swing/actions/edit/AddCardAction.java 54 60
src/jmemorize/gui/swing/actions/file/ExitAction.java 59 64
----------------------------------------
    {
        setName(Localization.get("MainFrame.ADD_CARD")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.ADD_CARD_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/card_add.gif"); //$NON-NLS-1$
        setMnemonic(7);
        setAccelerator(KeyEvent.VK_N, SHORTCUT_KEY);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.EXIT")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.EXIT_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/blank.gif"); //$NON-NLS-1$
        setMnemonic(2);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513735
src/jmemorize/gui/swing/actions/file/SaveLessonAsAction.java 50 56
src/jmemorize/gui/swing/actions/file/ExitAction.java 59 64
----------------------------------------
    {
        setName(Localization.get("MainFrame.SAVE_AS")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.SAVE_AS_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/file_saveas.gif"); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_S, SHORTCUT_KEY + InputEvent.SHIFT_MASK);
        setMnemonic(2);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.EXIT")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.EXIT_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/blank.gif"); //$NON-NLS-1$
        setMnemonic(2);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513748
src/jmemorize/gui/swing/actions/file/NewLessonAction.java 58 64
src/jmemorize/gui/swing/actions/file/ExitAction.java 59 64
----------------------------------------
    {
        setName(Localization.get("MainFrame.NEW")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.NEW_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/file_new.gif"); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_N, SHORTCUT_KEY+ InputEvent.SHIFT_MASK);
        setMnemonic(1);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.EXIT")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.EXIT_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/blank.gif"); //$NON-NLS-1$
        setMnemonic(2);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513747
src/jmemorize/gui/swing/actions/file/PreferencesAction.java 51 57
src/jmemorize/gui/swing/actions/file/ExitAction.java 59 64
----------------------------------------
    {
        setName(Localization.get("MainFrame.PREFERENCES") + ".."); //$NON-NLS-1$ //$NON-NLS-2$ 
        setDescription(Localization.get("MainFrame.PREFERENCES_DESC")); //$NON-NLS-1$ 
        setIcon("/resource/icons/settings.gif"); //$NON-NLS-1$ 
        setAccelerator(KeyEvent.VK_P, SHORTCUT_KEY);
        setMnemonic(1);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.EXIT")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.EXIT_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/blank.gif"); //$NON-NLS-1$
        setMnemonic(2);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513734
src/jmemorize/gui/swing/actions/file/SaveLessonAction.java 101 107
src/jmemorize/gui/swing/actions/file/ExitAction.java 59 64
----------------------------------------
    {
        setName(Localization.get("MainFrame.SAVE")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.SAVE_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/file_save.gif"); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_S, SHORTCUT_KEY);
        setMnemonic(1);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.EXIT")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.EXIT_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/blank.gif"); //$NON-NLS-1$
        setMnemonic(2);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513750
src/jmemorize/gui/swing/actions/edit/FindAction.java 52 57
src/jmemorize/gui/swing/actions/file/ExitAction.java 59 64
----------------------------------------
    {
        setName(Localization.get("MainFrame.FIND")); //$NON-NLS-1$
        setIcon("/resource/icons/find.gif"); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.FIND_DESC")); //$NON-NLS-1$
        setAccelerator(KeyEvent.VK_F, SHORTCUT_KEY);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.EXIT")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.EXIT_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/blank.gif"); //$NON-NLS-1$
        setMnemonic(2);
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513744
src/jmemorize/gui/swing/actions/edit/CutAction.java 73 80
src/jmemorize/gui/swing/actions/edit/CopyAction.java 74 81
----------------------------------------
    {
        // HACK
        SelectionProvider src = m_selectionProvider;
        MainFrame frame = Main.getInstance().getFrame();
        setEnabled(frame != null && src != null && !Main.getInstance().isSessionRunning() && 
            ((src.getSelectedCards() != null && src.getSelectedCards().size() > 0) ||
            (src.getSelectedCategories() != null && src.getSelectedCategories().size() > 0)));
    }

----------------------------------------
    {
        // HACK
        SelectionProvider src = m_selectionProvider;
        MainFrame frame = Main.getInstance().getFrame();
        setEnabled(frame != null && src != null && !Main.getInstance().isSessionRunning() && 
            ((src.getSelectedCards() != null && src.getSelectedCards().size() > 0) ||
            (src.getSelectedCategories() != null && src.getSelectedCategories().size() > 0)));
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
82
21513751
src/jmemorize/gui/swing/actions/file/ExitAction.java 59 64
src/jmemorize/gui/swing/actions/file/ExportToRTFAction.java 56 61
----------------------------------------
    {
        setName(Localization.get("MainFrame.EXIT")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.EXIT_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/blank.gif"); //$NON-NLS-1$
        setMnemonic(2);
    }

----------------------------------------
    {
        setName(Localization.get("MainFrame.EXPORT_RTF")); //$NON-NLS-1$
        setDescription(Localization.get("MainFrame.EXPORT_RTF_DESC")); //$NON-NLS-1$
        setIcon("/resource/icons/rtf.png"); //$NON-NLS-1$
        setMnemonic(1);
    }

----------------------------------------
