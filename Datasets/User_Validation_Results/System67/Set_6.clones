$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995180
src/de/joergjahnke/common/jme/OrientationSensitiveCanvasHelper.java 113 119
src/de/joergjahnke/common/extendeddevices/WavePlayer.java 64 70
----------------------------------------
    public void deactivateAccelerometer() {
        try {
            ((javax.microedition.sensor.SensorConnection) this.con).removeDataListener();
            this.con.close();
        } catch (Throwable t) {
        }
    }

----------------------------------------
                        synchronized (buffer) {
                            buffer.reset();
                            try {
                                buffer.wait();
                            } catch (InterruptedException e) {
                            }
                        }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995165
src/de/joergjahnke/gameboy/core/VideoChip.java 1077 1083
src/de/joergjahnke/gameboy/core/VideoChip.java 1229 1235
----------------------------------------
        if (isLCDEnabled()) {
            final CPU cpu = this.gameboy.getCPU();

            if (isHBlankIRQEnabled() && (cpu.memory[0xff41] & 0x44) != 0x44) {
                cpu.requestIRQ(CPU.IRQ_LCDSTAT);
            }
        }

----------------------------------------
    protected void checkOAMIRQ() {
        final CPU cpu = this.gameboy.getCPU();

        if (isOAMIRQEnabled() && (cpu.memory[0xff41] & 0x44) != 0x44) {
            cpu.requestIRQ(CPU.IRQ_LCDSTAT);
        }
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995166
src/de/joergjahnke/gameboy/core/Joypad.java 91 96
src/de/joergjahnke/gameboy/core/Joypad.java 114 119
----------------------------------------
        if (directions != this.directions) {
            this.directions = directions;
            this.gameboy.getCPU().writeIO(0xff00, (byte) (0x10 + directions));
            setChanged(true);
            notifyObservers(new Integer(directions));
        }

----------------------------------------
        if (buttons != this.buttons) {
            this.buttons = buttons;
            this.gameboy.getCPU().writeIO(0xff00, (byte) (0x20 + buttons));
            setChanged(true);
            notifyObservers(new Integer(buttons));
        }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995167
src/de/joergjahnke/gameboy/core/Joypad.java 114 119
src/de/joergjahnke/gameboy/core/Joypad.java 90 97
----------------------------------------
        if (buttons != this.buttons) {
            this.buttons = buttons;
            this.gameboy.getCPU().writeIO(0xff00, (byte) (0x20 + buttons));
            setChanged(true);
            notifyObservers(new Integer(buttons));
        }

----------------------------------------
    public void setDirections(final int directions) {
        if (directions != this.directions) {
            this.directions = directions;
            this.gameboy.getCPU().writeIO(0xff00, (byte) (0x10 + directions));
            setChanged(true);
            notifyObservers(new Integer(directions));
        }
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995185
src/de/joergjahnke/gameboy/core/VideoChip.java 1260 1268
src/de/joergjahnke/gameboy/core/VideoChip.java 1301 1307
----------------------------------------
        } else if (this.wasSpritePainted[line]) {
            // then restore background from buffer
            final int svy = (line * getScaling()) >> SCALING_MULTIPLIER_BITS;
            final int svystop = ((line + 1) * getScaling()) >> VideoChip.SCALING_MULTIPLIER_BITS;
            final int spos = svy * getScaledWidth();

            System.arraycopy(this.backgroundPixelsBuffer, spos, this.pixels, spos, svystop * getScaledWidth() - spos);
            this.wasSpritePainted[line] = false;
        }

----------------------------------------
                            if (USE_BACKGROUND_CACHE) {
                                final int svy = (line_ * getScaling()) >> SCALING_MULTIPLIER_BITS;
                                final int svystop = ((line_ + 1) * getScaling()) >> VideoChip.SCALING_MULTIPLIER_BITS;
                                final int spos = svy * getScaledWidth();

                                System.arraycopy(this.pixels, spos, this.backgroundPixelsBuffer, spos, svystop * getScaledWidth() - spos);
                            }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995186
src/de/joergjahnke/gameboy/swing/GameboyFrame.java 273 304
src/de/joergjahnke/gameboy/swing/GameboyFrame.java 350 383
----------------------------------------
    private boolean saveState(final String filename) {
        this.gameboy.pause();

        final File suspend = new File(filename);
        DataOutputStream out = null;
        boolean wasSuccessful = false;

        try {
            out = new DataOutputStream(new BufferedOutputStream(new FileOutputStream(suspend)));

            // save the currently loaded ROM name
            out.writeUTF(this.lastFile.getAbsolutePath());
            // save current emulator state
            this.gameboy.serialize(out);
            wasSuccessful = true;
        } catch (Throwable t) {
            // show the cause of the error
            t.printStackTrace();
            // delete the suspend file
            suspend.delete();
            // we don't exit, the user might want to continue now that the suspend failed
            wasSuccessful = false;
            this.gameboy.resume();
        } finally {
            try {
                out.close();
            } catch (Exception e) {
            }
        }

        return wasSuccessful;
    }

----------------------------------------
    private int loadState(final String filename) {
        this.gameboy.pause();
        this.gameboy.stop();

        boolean hasSuspendData = false;
        int status = STATUS_NOTHING_LOADED;
        final File suspend = new File(filename);
        DataInputStream in = null;

        try {
            in = new DataInputStream(new BufferedInputStream(new FileInputStream(suspend)));

            hasSuspendData = true;

            // reload the old ROM file
            loadROM(in.readUTF());
            // load the emulator state
            this.gameboy.deserialize(in);

            status = STATUS_LOAD_OK;
        } catch (Throwable t) {
            if (hasSuspendData) {
                status = STATUS_LOAD_FAILED;
                t.printStackTrace();
            }
        } finally {
            try {
                in.close();
            } catch (Exception e) {
            }
        }

        return status;
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995187
src/de/joergjahnke/gameboy/swing/GameboyFrame.java 280 288
src/de/joergjahnke/gameboy/swing/GameboyFrame.java 359 370
----------------------------------------
        try {
            out = new DataOutputStream(new BufferedOutputStream(new FileOutputStream(suspend)));

            // save the currently loaded ROM name
            out.writeUTF(this.lastFile.getAbsolutePath());
            // save current emulator state
            this.gameboy.serialize(out);
            wasSuccessful = true;
        } catch (Throwable t) {

----------------------------------------
        try {
            in = new DataInputStream(new BufferedInputStream(new FileInputStream(suspend)));

            hasSuspendData = true;

            // reload the old ROM file
            loadROM(in.readUTF());
            // load the emulator state
            this.gameboy.deserialize(in);

            status = STATUS_LOAD_OK;
        } catch (Throwable t) {

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995194
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 50 55
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 63 68
----------------------------------------
    public BluetoothClient(final String serviceName) throws BluetoothStateException {
        super(serviceName);

        // initialize the discovery agent
        this.agent = this.local.getDiscoveryAgent();
    }

----------------------------------------
    public BluetoothClient(final int uuid, final boolean isShortUUID) throws BluetoothStateException {
        super(uuid, isShortUUID);

        // initialize the discovery agent
        this.agent = this.local.getDiscoveryAgent();
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
28734585
src/de/joergjahnke/common/bluetooth/BluetoothDevice.java 158 164
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 98 107
----------------------------------------
    public static String getRemoteDeviceName(final RemoteDevice dev) {
        try {
            return dev.getFriendlyName(false) == null ? dev.getBluetoothAddress() : dev.getFriendlyName(false);
        } catch (IOException e) {
            return "unknown";
        }
    }

----------------------------------------
        synchronized (this.agent) {
            if (!this.agent.startInquiry(DiscoveryAgent.GIAC, this)) {
                throw new BluetoothStateException("Access code not supported!");
            }
            // wait until the discovery agents notifies us that he is finished or one minute has passed
            try {
                this.agent.wait(getTimeout(), 0);
            } catch (InterruptedException e) {
            }
        }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995195
src/de/joergjahnke/gameboy/swing/GameboyFrame.java 983 992
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 98 107
----------------------------------------
            public void hyperlinkUpdate(final HyperlinkEvent evt) {
                if (evt.getEventType() == HyperlinkEvent.EventType.ACTIVATED) {
                    try {
                        Desktop.getDesktop().browse(evt.getURL().toURI());
                    } catch (Throwable t) {
                        // could not display the web page, what to do now???
                        System.err.println("Could not browse to page " + evt.getURL());
                    }
                }
            }

----------------------------------------
        synchronized (this.agent) {
            if (!this.agent.startInquiry(DiscoveryAgent.GIAC, this)) {
                throw new BluetoothStateException("Access code not supported!");
            }
            // wait until the discovery agents notifies us that he is finished or one minute has passed
            try {
                this.agent.wait(getTimeout(), 0);
            } catch (InterruptedException e) {
            }
        }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995196
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 94 110
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 145 161
----------------------------------------
    public synchronized Vector searchDevices() throws BluetoothStateException {
        this.devices.removeAllElements();

        // query other devices for the service
        synchronized (this.agent) {
            if (!this.agent.startInquiry(DiscoveryAgent.GIAC, this)) {
                throw new BluetoothStateException("Access code not supported!");
            }
            // wait until the discovery agents notifies us that he is finished or one minute has passed
            try {
                this.agent.wait(getTimeout(), 0);
            } catch (InterruptedException e) {
            }
        }

        return this.devices;
    }

----------------------------------------
    public synchronized ServiceRecord searchServices(final RemoteDevice btDevice, final UUID[] uuids) throws IOException {
        this.serviceRecord = null;

        // query the other device for the service
        synchronized (this.agent) {
            this.agent.searchServices(null, uuids, btDevice, this);

            // wait until the discovery agents notifies us that he is finished or one minute has passed
            try {
                this.agent.wait(getTimeout(), 0);
            } catch (InterruptedException e) {
                // we got interrupted, no problem
            }
        }

        return this.serviceRecord;
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995239
src/de/joergjahnke/gameboy/swing/GameboyFrame.java 510 515
src/de/joergjahnke/common/bluetooth/BluetoothOBEXClient.java 240 250
----------------------------------------
        } finally {
            try {
                romStream.close();
            } catch (Exception e) {
            }
        }

----------------------------------------
    public void abortFileReception() {
        super.stop();

        try {
            this.local.setDiscoverable(DiscoveryAgent.NOT_DISCOVERABLE);
            this.notifier.close();
            this.notifier = null;
        } catch (Exception e) {
            // we could not completely shut down the service, what to do now?
        }
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995202
src/de/joergjahnke/common/extendeddevices/WavePlayer.java 64 70
src/de/joergjahnke/common/bluetooth/BluetoothOBEXClient.java 240 250
----------------------------------------
                        synchronized (buffer) {
                            buffer.reset();
                            try {
                                buffer.wait();
                            } catch (InterruptedException e) {
                            }
                        }

----------------------------------------
    public void abortFileReception() {
        super.stop();

        try {
            this.local.setDiscoverable(DiscoveryAgent.NOT_DISCOVERABLE);
            this.notifier.close();
            this.notifier = null;
        } catch (Exception e) {
            // we could not completely shut down the service, what to do now?
        }
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995240
src/de/joergjahnke/gameboy/swing/GameboyFrame.java 296 301
src/de/joergjahnke/common/bluetooth/BluetoothOBEXClient.java 240 250
----------------------------------------
        } finally {
            try {
                out.close();
            } catch (Exception e) {
            }
        }

----------------------------------------
    public void abortFileReception() {
        super.stop();

        try {
            this.local.setDiscoverable(DiscoveryAgent.NOT_DISCOVERABLE);
            this.notifier.close();
            this.notifier = null;
        } catch (Exception e) {
            // we could not completely shut down the service, what to do now?
        }
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995243
src/de/joergjahnke/gameboy/swing/GameboyFrame.java 375 380
src/de/joergjahnke/common/bluetooth/BluetoothOBEXClient.java 240 250
----------------------------------------
        } finally {
            try {
                in.close();
            } catch (Exception e) {
            }
        }

----------------------------------------
    public void abortFileReception() {
        super.stop();

        try {
            this.local.setDiscoverable(DiscoveryAgent.NOT_DISCOVERABLE);
            this.notifier.close();
            this.notifier = null;
        } catch (Exception e) {
            // we could not completely shut down the service, what to do now?
        }
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995238
src/de/joergjahnke/gameboy/core/Gameboy.java 207 216
src/de/joergjahnke/common/bluetooth/BluetoothOBEXClient.java 240 250
----------------------------------------
        if (!isRunning()) {
            this.logger.info("Gameboy starting");
            super.run();
            // we use this thread to run the CPU
            try {
                this.cpu.run();
            } catch (Exception e) {
                e.printStackTrace();
            }
        }

----------------------------------------
    public void abortFileReception() {
        super.stop();

        try {
            this.local.setDiscoverable(DiscoveryAgent.NOT_DISCOVERABLE);
            this.notifier.close();
            this.notifier = null;
        } catch (Exception e) {
            // we could not completely shut down the service, what to do now?
        }
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995236
src/de/joergjahnke/gameboy/swing/GameboyFrame.java 489 494
src/de/joergjahnke/common/bluetooth/BluetoothOBEXClient.java 240 250
----------------------------------------
            } finally {
                try {
                    saveStream.close();
                } catch (Exception e) {
                }
            }

----------------------------------------
    public void abortFileReception() {
        super.stop();

        try {
            this.local.setDiscoverable(DiscoveryAgent.NOT_DISCOVERABLE);
            this.notifier.close();
            this.notifier = null;
        } catch (Exception e) {
            // we could not completely shut down the service, what to do now?
        }
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995241
src/de/joergjahnke/gameboy/android/AndroidGB.java 476 484
src/de/joergjahnke/common/bluetooth/BluetoothOBEXClient.java 240 250
----------------------------------------
            if (this.gameboy.getSoundChip().countObservers() == 0) {
                try {
                    this.gameboy.getSoundChip().addObserver(new WavePlayer(this.gameboy.getSoundChip()));
                } catch (Throwable t) {
                    // we could not add a player, that's OK
                    this.gameboy.getLogger().warning("Could not create sound player! Sound output remains deactivated.");
                    t.printStackTrace();
                }
            }

----------------------------------------
    public void abortFileReception() {
        super.stop();

        try {
            this.local.setDiscoverable(DiscoveryAgent.NOT_DISCOVERABLE);
            this.notifier.close();
            this.notifier = null;
        } catch (Exception e) {
            // we could not completely shut down the service, what to do now?
        }
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995242
src/de/joergjahnke/gameboy/android/AndroidGB.java 499 507
src/de/joergjahnke/common/bluetooth/BluetoothOBEXClient.java 240 250
----------------------------------------
			if(this.orientationSensorNotifier == null) {
				try {
					this.orientationSensorNotifier = new OrientationSensorNotifier();
					this.orientationSensorNotifier.addListener(this.gameboyView);
					this.orientationSensorNotifier.start();
				} catch( Exception e ) {
					// we could not attach the notifier, most probably no orientation sensor is available
				}
			}

----------------------------------------
    public void abortFileReception() {
        super.stop();

        try {
            this.local.setDiscoverable(DiscoveryAgent.NOT_DISCOVERABLE);
            this.notifier.close();
            this.notifier = null;
        } catch (Exception e) {
            // we could not completely shut down the service, what to do now?
        }
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995237
src/de/joergjahnke/gameboy/swing/GameboyFrame.java 393 400
src/de/joergjahnke/common/bluetooth/BluetoothOBEXClient.java 240 250
----------------------------------------
        if (status == STATUS_LOAD_OK || status == STATUS_LOAD_FAILED) {
            try {
                new File(SUSPENDFILE_NAME).delete();
            } catch (Exception e) {
                JOptionPane.showMessageDialog(this, "Could not remove the suspend file! Please remove the suspend file '" + SUSPENDFILE_NAME + "' manually.", this.commonResources.getString("CouldNotRemoveSuspendData"), JOptionPane.ERROR_MESSAGE);
                e.printStackTrace();
            }
        }

----------------------------------------
    public void abortFileReception() {
        super.stop();

        try {
            this.local.setDiscoverable(DiscoveryAgent.NOT_DISCOVERABLE);
            this.notifier.close();
            this.notifier = null;
        } catch (Exception e) {
            // we could not completely shut down the service, what to do now?
        }
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995244
src/de/joergjahnke/common/jme/OrientationSensitiveCanvasHelper.java 113 119
src/de/joergjahnke/common/bluetooth/BluetoothOBEXClient.java 240 250
----------------------------------------
    public void deactivateAccelerometer() {
        try {
            ((javax.microedition.sensor.SensorConnection) this.con).removeDataListener();
            this.con.close();
        } catch (Throwable t) {
        }
    }

----------------------------------------
    public void abortFileReception() {
        super.stop();

        try {
            this.local.setDiscoverable(DiscoveryAgent.NOT_DISCOVERABLE);
            this.notifier.close();
            this.notifier = null;
        } catch (Exception e) {
            // we could not completely shut down the service, what to do now?
        }
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995216
src/de/joergjahnke/common/jme/OrientationSensitiveCanvasHelper.java 113 119
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 149 158
----------------------------------------
    public void deactivateAccelerometer() {
        try {
            ((javax.microedition.sensor.SensorConnection) this.con).removeDataListener();
            this.con.close();
        } catch (Throwable t) {
        }
    }

----------------------------------------
        synchronized (this.agent) {
            this.agent.searchServices(null, uuids, btDevice, this);

            // wait until the discovery agents notifies us that he is finished or one minute has passed
            try {
                this.agent.wait(getTimeout(), 0);
            } catch (InterruptedException e) {
                // we got interrupted, no problem
            }
        }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995217
src/de/joergjahnke/gameboy/swing/GameboyFrame.java 241 248
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 149 158
----------------------------------------
                    public void windowClosing(final WindowEvent evt) {
                        try {
                            settings.storeToXML(new FileOutputStream(new File(PROPERTIES_NAME)), "Properties for JSwingBoy");
                            stopGame();
                        } catch (Exception e) {
                            // we can't save the settings, that's a pity, but we'll just use defaults on next startup
                        }
                    }

----------------------------------------
        synchronized (this.agent) {
            this.agent.searchServices(null, uuids, btDevice, this);

            // wait until the discovery agents notifies us that he is finished or one minute has passed
            try {
                this.agent.wait(getTimeout(), 0);
            } catch (InterruptedException e) {
                // we got interrupted, no problem
            }
        }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995208
src/de/joergjahnke/gameboy/swing/GameboyFrame.java 489 494
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 149 158
----------------------------------------
            } finally {
                try {
                    saveStream.close();
                } catch (Exception e) {
                }
            }

----------------------------------------
        synchronized (this.agent) {
            this.agent.searchServices(null, uuids, btDevice, this);

            // wait until the discovery agents notifies us that he is finished or one minute has passed
            try {
                this.agent.wait(getTimeout(), 0);
            } catch (InterruptedException e) {
                // we got interrupted, no problem
            }
        }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995213
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 98 107
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 149 158
----------------------------------------
        synchronized (this.agent) {
            if (!this.agent.startInquiry(DiscoveryAgent.GIAC, this)) {
                throw new BluetoothStateException("Access code not supported!");
            }
            // wait until the discovery agents notifies us that he is finished or one minute has passed
            try {
                this.agent.wait(getTimeout(), 0);
            } catch (InterruptedException e) {
            }
        }

----------------------------------------
        synchronized (this.agent) {
            this.agent.searchServices(null, uuids, btDevice, this);

            // wait until the discovery agents notifies us that he is finished or one minute has passed
            try {
                this.agent.wait(getTimeout(), 0);
            } catch (InterruptedException e) {
                // we got interrupted, no problem
            }
        }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995210
src/de/joergjahnke/gameboy/swing/GameboyFrame.java 260 266
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 149 158
----------------------------------------
    private ImageIcon getMenuIcon(final String filename) {
        try {
            return new ImageIcon(new ImageIcon(getClass().getResource("/res/drawable/" + filename)).getImage().getScaledInstance(16, 16, Image.SCALE_SMOOTH));
        } catch (Exception e) {
            return null;
        }
    }

----------------------------------------
        synchronized (this.agent) {
            this.agent.searchServices(null, uuids, btDevice, this);

            // wait until the discovery agents notifies us that he is finished or one minute has passed
            try {
                this.agent.wait(getTimeout(), 0);
            } catch (InterruptedException e) {
                // we got interrupted, no problem
            }
        }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995209
src/de/joergjahnke/gameboy/swing/GameboyFrame.java 510 515
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 149 158
----------------------------------------
        } finally {
            try {
                romStream.close();
            } catch (Exception e) {
            }
        }

----------------------------------------
        synchronized (this.agent) {
            this.agent.searchServices(null, uuids, btDevice, this);

            // wait until the discovery agents notifies us that he is finished or one minute has passed
            try {
                this.agent.wait(getTimeout(), 0);
            } catch (InterruptedException e) {
                // we got interrupted, no problem
            }
        }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995214
src/de/joergjahnke/common/jme/FileSystemHandler.java 189 195
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 149 158
----------------------------------------
                if (prgsString.length() > 0) {
                    try {
                        settings.setString(SETTING_PROGRAMS, prgsString.toString());
                    } catch (Exception e) {
                    // we could not save the list of programs on the phone, that's OK
                    }
                }

----------------------------------------
        synchronized (this.agent) {
            this.agent.searchServices(null, uuids, btDevice, this);

            // wait until the discovery agents notifies us that he is finished or one minute has passed
            try {
                this.agent.wait(getTimeout(), 0);
            } catch (InterruptedException e) {
                // we got interrupted, no problem
            }
        }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995219
src/de/joergjahnke/gameboy/swing/GameboyFrame.java 984 991
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 149 158
----------------------------------------
                if (evt.getEventType() == HyperlinkEvent.EventType.ACTIVATED) {
                    try {
                        Desktop.getDesktop().browse(evt.getURL().toURI());
                    } catch (Throwable t) {
                        // could not display the web page, what to do now???
                        System.err.println("Could not browse to page " + evt.getURL());
                    }
                }

----------------------------------------
        synchronized (this.agent) {
            this.agent.searchServices(null, uuids, btDevice, this);

            // wait until the discovery agents notifies us that he is finished or one minute has passed
            try {
                this.agent.wait(getTimeout(), 0);
            } catch (InterruptedException e) {
                // we got interrupted, no problem
            }
        }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995211
src/de/joergjahnke/gameboy/swing/GameboyFrame.java 296 301
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 149 158
----------------------------------------
        } finally {
            try {
                out.close();
            } catch (Exception e) {
            }
        }

----------------------------------------
        synchronized (this.agent) {
            this.agent.searchServices(null, uuids, btDevice, this);

            // wait until the discovery agents notifies us that he is finished or one minute has passed
            try {
                this.agent.wait(getTimeout(), 0);
            } catch (InterruptedException e) {
                // we got interrupted, no problem
            }
        }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995218
src/de/joergjahnke/gameboy/swing/GameboyFrame.java 998 1004
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 149 158
----------------------------------------
    private void jMenuItemContentsActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jMenuItemContentsActionPerformed
        try {
            java.awt.Desktop.getDesktop().browse(new URI(URL_ONLINE_HELP));
        } catch (Throwable t) {
            JOptionPane.showMessageDialog(this, this.commonResources.getString("CouldNotDisplayOnlineHelp") + " '" + URL_ONLINE_HELP + "'", this.commonResources.getString("CouldNotStartBrowser"), JOptionPane.ERROR_MESSAGE);
        }
    }//GEN-LAST:event_jMenuItemContentsActionPerformed

----------------------------------------
        synchronized (this.agent) {
            this.agent.searchServices(null, uuids, btDevice, this);

            // wait until the discovery agents notifies us that he is finished or one minute has passed
            try {
                this.agent.wait(getTimeout(), 0);
            } catch (InterruptedException e) {
                // we got interrupted, no problem
            }
        }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995215
src/de/joergjahnke/gameboy/swing/GameboyFrame.java 375 380
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 149 158
----------------------------------------
        } finally {
            try {
                in.close();
            } catch (Exception e) {
            }
        }

----------------------------------------
        synchronized (this.agent) {
            this.agent.searchServices(null, uuids, btDevice, this);

            // wait until the discovery agents notifies us that he is finished or one minute has passed
            try {
                this.agent.wait(getTimeout(), 0);
            } catch (InterruptedException e) {
                // we got interrupted, no problem
            }
        }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995205
src/de/joergjahnke/common/extendeddevices/WavePlayer.java 64 70
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 149 158
----------------------------------------
                        synchronized (buffer) {
                            buffer.reset();
                            try {
                                buffer.wait();
                            } catch (InterruptedException e) {
                            }
                        }

----------------------------------------
        synchronized (this.agent) {
            this.agent.searchServices(null, uuids, btDevice, this);

            // wait until the discovery agents notifies us that he is finished or one minute has passed
            try {
                this.agent.wait(getTimeout(), 0);
            } catch (InterruptedException e) {
                // we got interrupted, no problem
            }
        }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995212
src/de/joergjahnke/common/bluetooth/BluetoothDevice.java 158 164
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 149 158
----------------------------------------
    public static String getRemoteDeviceName(final RemoteDevice dev) {
        try {
            return dev.getFriendlyName(false) == null ? dev.getBluetoothAddress() : dev.getFriendlyName(false);
        } catch (IOException e) {
            return "unknown";
        }
    }

----------------------------------------
        synchronized (this.agent) {
            this.agent.searchServices(null, uuids, btDevice, this);

            // wait until the discovery agents notifies us that he is finished or one minute has passed
            try {
                this.agent.wait(getTimeout(), 0);
            } catch (InterruptedException e) {
                // we got interrupted, no problem
            }
        }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995261
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 149 158
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 174 180
----------------------------------------
        synchronized (this.agent) {
            this.agent.searchServices(null, uuids, btDevice, this);

            // wait until the discovery agents notifies us that he is finished or one minute has passed
            try {
                this.agent.wait(getTimeout(), 0);
            } catch (InterruptedException e) {
                // we got interrupted, no problem
            }
        }

----------------------------------------
    public void servicesDiscovered(final int transID, final ServiceRecord[] servRecord) {
        try {
            this.serviceRecord = servRecord[0];
        } catch (Exception e) {
            // it may happen that no service record can be retrieved, in this case serviceRecord remains null
        }
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995230
src/de/joergjahnke/gameboy/swing/GameboyFrame.java 984 991
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 174 180
----------------------------------------
                if (evt.getEventType() == HyperlinkEvent.EventType.ACTIVATED) {
                    try {
                        Desktop.getDesktop().browse(evt.getURL().toURI());
                    } catch (Throwable t) {
                        // could not display the web page, what to do now???
                        System.err.println("Could not browse to page " + evt.getURL());
                    }
                }

----------------------------------------
    public void servicesDiscovered(final int transID, final ServiceRecord[] servRecord) {
        try {
            this.serviceRecord = servRecord[0];
        } catch (Exception e) {
            // it may happen that no service record can be retrieved, in this case serviceRecord remains null
        }
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995221
src/de/joergjahnke/gameboy/swing/GameboyFrame.java 510 515
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 174 180
----------------------------------------
        } finally {
            try {
                romStream.close();
            } catch (Exception e) {
            }
        }

----------------------------------------
    public void servicesDiscovered(final int transID, final ServiceRecord[] servRecord) {
        try {
            this.serviceRecord = servRecord[0];
        } catch (Exception e) {
            // it may happen that no service record can be retrieved, in this case serviceRecord remains null
        }
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995225
src/de/joergjahnke/common/jme/FileSystemHandler.java 189 195
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 174 180
----------------------------------------
                if (prgsString.length() > 0) {
                    try {
                        settings.setString(SETTING_PROGRAMS, prgsString.toString());
                    } catch (Exception e) {
                    // we could not save the list of programs on the phone, that's OK
                    }
                }

----------------------------------------
    public void servicesDiscovered(final int transID, final ServiceRecord[] servRecord) {
        try {
            this.serviceRecord = servRecord[0];
        } catch (Exception e) {
            // it may happen that no service record can be retrieved, in this case serviceRecord remains null
        }
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995226
src/de/joergjahnke/gameboy/swing/GameboyFrame.java 375 380
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 174 180
----------------------------------------
        } finally {
            try {
                in.close();
            } catch (Exception e) {
            }
        }

----------------------------------------
    public void servicesDiscovered(final int transID, final ServiceRecord[] servRecord) {
        try {
            this.serviceRecord = servRecord[0];
        } catch (Exception e) {
            // it may happen that no service record can be retrieved, in this case serviceRecord remains null
        }
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995222
src/de/joergjahnke/gameboy/swing/GameboyFrame.java 260 266
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 174 180
----------------------------------------
    private ImageIcon getMenuIcon(final String filename) {
        try {
            return new ImageIcon(new ImageIcon(getClass().getResource("/res/drawable/" + filename)).getImage().getScaledInstance(16, 16, Image.SCALE_SMOOTH));
        } catch (Exception e) {
            return null;
        }
    }

----------------------------------------
    public void servicesDiscovered(final int transID, final ServiceRecord[] servRecord) {
        try {
            this.serviceRecord = servRecord[0];
        } catch (Exception e) {
            // it may happen that no service record can be retrieved, in this case serviceRecord remains null
        }
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995227
src/de/joergjahnke/common/jme/OrientationSensitiveCanvasHelper.java 113 119
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 174 180
----------------------------------------
    public void deactivateAccelerometer() {
        try {
            ((javax.microedition.sensor.SensorConnection) this.con).removeDataListener();
            this.con.close();
        } catch (Throwable t) {
        }
    }

----------------------------------------
    public void servicesDiscovered(final int transID, final ServiceRecord[] servRecord) {
        try {
            this.serviceRecord = servRecord[0];
        } catch (Exception e) {
            // it may happen that no service record can be retrieved, in this case serviceRecord remains null
        }
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995206
src/de/joergjahnke/common/extendeddevices/WavePlayer.java 64 70
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 174 180
----------------------------------------
                        synchronized (buffer) {
                            buffer.reset();
                            try {
                                buffer.wait();
                            } catch (InterruptedException e) {
                            }
                        }

----------------------------------------
    public void servicesDiscovered(final int transID, final ServiceRecord[] servRecord) {
        try {
            this.serviceRecord = servRecord[0];
        } catch (Exception e) {
            // it may happen that no service record can be retrieved, in this case serviceRecord remains null
        }
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995220
src/de/joergjahnke/gameboy/swing/GameboyFrame.java 489 494
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 174 180
----------------------------------------
            } finally {
                try {
                    saveStream.close();
                } catch (Exception e) {
                }
            }

----------------------------------------
    public void servicesDiscovered(final int transID, final ServiceRecord[] servRecord) {
        try {
            this.serviceRecord = servRecord[0];
        } catch (Exception e) {
            // it may happen that no service record can be retrieved, in this case serviceRecord remains null
        }
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995223
src/de/joergjahnke/gameboy/swing/GameboyFrame.java 296 301
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 174 180
----------------------------------------
        } finally {
            try {
                out.close();
            } catch (Exception e) {
            }
        }

----------------------------------------
    public void servicesDiscovered(final int transID, final ServiceRecord[] servRecord) {
        try {
            this.serviceRecord = servRecord[0];
        } catch (Exception e) {
            // it may happen that no service record can be retrieved, in this case serviceRecord remains null
        }
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995228
src/de/joergjahnke/gameboy/swing/GameboyFrame.java 241 248
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 174 180
----------------------------------------
                    public void windowClosing(final WindowEvent evt) {
                        try {
                            settings.storeToXML(new FileOutputStream(new File(PROPERTIES_NAME)), "Properties for JSwingBoy");
                            stopGame();
                        } catch (Exception e) {
                            // we can't save the settings, that's a pity, but we'll just use defaults on next startup
                        }
                    }

----------------------------------------
    public void servicesDiscovered(final int transID, final ServiceRecord[] servRecord) {
        try {
            this.serviceRecord = servRecord[0];
        } catch (Exception e) {
            // it may happen that no service record can be retrieved, in this case serviceRecord remains null
        }
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995224
src/de/joergjahnke/common/bluetooth/BluetoothDevice.java 158 164
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 174 180
----------------------------------------
    public static String getRemoteDeviceName(final RemoteDevice dev) {
        try {
            return dev.getFriendlyName(false) == null ? dev.getBluetoothAddress() : dev.getFriendlyName(false);
        } catch (IOException e) {
            return "unknown";
        }
    }

----------------------------------------
    public void servicesDiscovered(final int transID, final ServiceRecord[] servRecord) {
        try {
            this.serviceRecord = servRecord[0];
        } catch (Exception e) {
            // it may happen that no service record can be retrieved, in this case serviceRecord remains null
        }
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995229
src/de/joergjahnke/gameboy/swing/GameboyFrame.java 998 1004
src/de/joergjahnke/common/bluetooth/BluetoothClient.java 174 180
----------------------------------------
    private void jMenuItemContentsActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jMenuItemContentsActionPerformed
        try {
            java.awt.Desktop.getDesktop().browse(new URI(URL_ONLINE_HELP));
        } catch (Throwable t) {
            JOptionPane.showMessageDialog(this, this.commonResources.getString("CouldNotDisplayOnlineHelp") + " '" + URL_ONLINE_HELP + "'", this.commonResources.getString("CouldNotStartBrowser"), JOptionPane.ERROR_MESSAGE);
        }
    }//GEN-LAST:event_jMenuItemContentsActionPerformed

----------------------------------------
    public void servicesDiscovered(final int transID, final ServiceRecord[] servRecord) {
        try {
            this.serviceRecord = servRecord[0];
        } catch (Exception e) {
            // it may happen that no service record can be retrieved, in this case serviceRecord remains null
        }
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995207
src/de/joergjahnke/common/extendeddevices/WavePlayer.java 64 70
src/de/joergjahnke/common/bluetooth/BluetoothOBEXClient.java 110 120
----------------------------------------
                        synchronized (buffer) {
                            buffer.reset();
                            try {
                                buffer.wait();
                            } catch (InterruptedException e) {
                            }
                        }

----------------------------------------
    public void disconnect() {
        super.stop();

        try {
            this.clientSession.disconnect(null);
            this.clientSession.close();
        } catch (IOException e) {
            // we had a problem with closing the streams, what to do now?
        }
        this.clientSession = null;
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995836
src/de/joergjahnke/gameboy/android/AndroidGB.java 476 484
src/de/joergjahnke/common/bluetooth/BluetoothOBEXClient.java 110 120
----------------------------------------
            if (this.gameboy.getSoundChip().countObservers() == 0) {
                try {
                    this.gameboy.getSoundChip().addObserver(new WavePlayer(this.gameboy.getSoundChip()));
                } catch (Throwable t) {
                    // we could not add a player, that's OK
                    this.gameboy.getLogger().warning("Could not create sound player! Sound output remains deactivated.");
                    t.printStackTrace();
                }
            }

----------------------------------------
    public void disconnect() {
        super.stop();

        try {
            this.clientSession.disconnect(null);
            this.clientSession.close();
        } catch (IOException e) {
            // we had a problem with closing the streams, what to do now?
        }
        this.clientSession = null;
    }

----------------------------------------
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
67
17995308
src/de/joergjahnke/common/jme/OrientationSensitiveCanvasHelper.java 113 119
src/de/joergjahnke/common/bluetooth/BluetoothOBEXClient.java 110 120
----------------------------------------
    public void deactivateAccelerometer() {
        try {
            ((javax.microedition.sensor.SensorConnection) this.con).removeDataListener();
            this.con.close();
        } catch (Throwable t) {
        }
    }

----------------------------------------
    public void disconnect() {
        super.stop();

        try {
            this.clientSession.disconnect(null);
            this.clientSession.close();
        } catch (IOException e) {
            // we had a problem with closing the streams, what to do now?
        }
        this.clientSession = null;
    }

----------------------------------------
